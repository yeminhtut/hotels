<?phpClass Destination_Content extends Model{  function __construct($id='')  {		parent::__construct('Destination_Content_ID','T_Destination_Content','getdbh');		$this->rs['Destination_Content_ID']=0;		$this->rs['Parent_Destination_Content_ID']='';		$this->rs['DestinationID']='';		$this->rs['Destination_Section_ID']='';		$this->rs['Section']='';		$this->rs['Title']='';		$this->rs['Short_Description']='';		$this->rs['Content']='';		$this->rs['Status']='';		$this->rs['Created_By_ID']='';		$this->rs['Created_Date']='';		$this->rs['Last_Updated_By_ID']='';		$this->rs['Last_Updated_Date']='';  if ($id)    $this->retrieve($id);  }  function retrieve_by_destination($destination_arr)  {    $sql = '';    $n = 0;    foreach($destination_arr as $destination)    {      $n++;      $sql .= '?';      $values[] = $destination->get('DestinationID');      if($n!=count($destination_arr))        $sql .= ', ';    }        $dc = new Destination_Content();        $dc_arr = $dc->retrieve_many('DestinationID IN ('.$sql.') AND Status="active"',$values);    return $dc_arr;  }    function retrieve_by_section_and_destination($destination_arr, $section)  {    $sql = '';    $n = 0;    foreach($destination_arr as $destination)    {      $n++;      $sql .= '?';      $values[] = $destination->get('DestinationID');      if($n!=count($destination_arr))        $sql .= ', ';    }            $values[] = $section;        $dc = new Destination_Content();        $dc_arr = $dc->retrieve_many('DestinationID IN ('.$sql.') AND Status="active" AND Section=?',$values);    return $dc_arr;  }    function get_country_intro($country_id) {  	$dbh = getdbh();
  	$sql = $dbh->prepare('SELECT T_Destination_Content.Short_Description   			FROM `T_Destination`   			LEFT JOIN T_Destination_Content ON T_Destination_Content.DestinationID=T_Destination.DestinationID   			WHERE T_Destination.`CountryID` = ? AND T_Destination_Content.Section="introduction"');
  	$sql->execute(array($country_id));
  	$result = $sql->fetchColumn();
  	if($result)
  		return $result;
  	else
  		return '';  }}?>